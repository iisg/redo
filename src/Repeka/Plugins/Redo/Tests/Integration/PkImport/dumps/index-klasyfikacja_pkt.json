{
  "mappings": {
    "nazwa": {
      "key": "1",
      "transforms": [
        {
          "name": "getKey",
          "key": "VALUE_TEXT"
        },
        {
          "name": "trim"
        }
      ],
      "submetadata": {
        "language": {
          "transforms": [
            {
              "name": "displayStrategy",
              "template": "{% for value in values %}{% if value['VALUE_TEXT'] is defined and parentMetadataValue in value['VALUE_TEXT']%}{{value['INDEX_ITEM_ID']}}{% endif %}{% endfor %}"
            }
          ],
          "submetadata": {
            "language_id": {
              "transforms": [
                {
                  "name": "displayStrategy",
                  "template": "{% for value in values %}{% if value['INDEX_ITEM_ID'] is defined and parentMetadataValue in value['INDEX_ITEM_ID']%}{{value['ID']}}{% endif %}{% endfor %}"
                }
              ]
            }
          }
        },
        "language_description": {
          "transforms": [
            {
              "name": "displayStrategy",
              "template": "{% for value in values %}{% if value['VALUE_TEXT'] is defined and parentMetadataValue in value['VALUE_TEXT']%}{{value['DESCRIBED_INDEX_ITEM_ID']}}{% endif %}{% endfor %}"
            }
          ]
        }
      }
    },
    "parent": {
      "key": "PARENT_INDEX_ITEM_ID"
    },
    "old_id": {
      "key": "ID"
    }
  }
}
