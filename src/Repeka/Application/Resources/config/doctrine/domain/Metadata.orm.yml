Repeka\Domain\Entity\Metadata:
  type: entity
  table: metadata
  repositoryClass: Repeka\Application\Repository\MetadataDoctrineRepository
  id:
    id:
      type: integer
      generator: {strategy: AUTO}
  manyToOne:
    resourceKind:
      targetEntity: Repeka\Domain\Entity\ResourceKind
      inversedBy: metadataList
      joinColumn:
        name: resource_kind_id
        referencedColumnName: id
    baseMetadata:
      targetEntity: Repeka\Domain\Entity\Metadata
      fetch: EAGER
      joinColumn:
        name: base_id
        referencedColumnName: id
    parentMetadata:
      targetEntity: Repeka\Domain\Entity\Metadata
      fetch: EAGER
      joinColumn:
        name: parent_id
        referencedColumnName: id
  fields:
    control:
      type: string
      length: 25
      nullable: true
    name:
      type: string
      length: 255
      nullable: true
    label:
      type: json_document
      options: {jsonb: true}
    description:
      type: json_document
      options: {jsonb: true}
    placeholder:
      type: json_document
      options: {jsonb: true}
    ordinalNumber:
      type: integer
      nullable: false
      column: ordinal_number
      options: {default: 0}
    constraints:
      type: json_document
      options: {jsonb: true}
    shownInBrief:
      type: boolean
      nullable: true
      column: shown_in_brief
    resourceClass:
      type: string
      length: 64
      nullable: true    # System metadata has null
      column: resource_class
