<template>
    <require from="./graph/workflow-graph-editor"></require>
    <require from="./excel/excel"></require>

    <form submit.delegate="onSubmit($event)">
        <div class="form-group">
            <multilingual-editor value.bind="workflow.name & validate"
                disabled.bind="workflow.pendingRequest"></multilingual-editor>
        </div>

        <div class="form-group clearfix">
            <workflow-graph-editor workflow.bind="workflow"
                workflow-graph-editor-ready.delegate="onEditorReady($event)"></workflow-graph-editor>
        </div>

        <div class="form-group">
            <excel show.bind="workflow.places.length > 0"
                workflow.bind="workflow"
                editable.bind="!workflow.pendingRequest"></excel>
            <input type="hidden"
                model.bind="workflow.places & validate">
        </div>

        <div class="pull-right">
            <pending-throbber entity.bind="workflow"></pending-throbber>
            <button class="btn btn-primary btn-raised"
                disabled.bind="workflow.pendingRequest">
                <fa name="check"></fa>
                ${'Save' | t}
            </button>
        </div>
    </form>
</template>
