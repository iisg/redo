<template>
    <require from="./graph/workflow-graph-display"></require>
    <require from="./excel/excel"></require>
    <require from="common/components/buttons/remove-button"></require>
    <require from="common/components/buttons/edit-button"></require>
    <require from="./workflow-edit-form"></require>

    <div if.bind="workflow"
        class="workflow-details au-animate fade-inup-outup">
        <div class="pull-right">
            <throbber if.bind="workflow.pendingRequest"></throbber>
            <remove-button if.bind="!editing"
                disabled.bind="workflow.pendingRequest"
                on-click.call="deleteWorkflow()"></remove-button>
            <edit-button if.bind="!editing"
                disabled.bind="workflow.pendingRequest"
                on-click.call="toggleEditForm()"></edit-button>
        </div>
        <h1>${workflow.name | inCurrentLanguage & signal:UPDATE_SIGNAL}</h1>
        <workflow-edit-form if.bind="editing"
            workflow.bind="workflow"
            submit.delegate="update()"
            resource-class.bind="workflow.resourceClass"
            on-cancel.call="toggleEditForm()"
            editing></workflow-edit-form>
        <template else>
            <workflow-graph-display workflow.bind="workflow"></workflow-graph-display>
            <excel workflow.bind="workflow"
                resource-class.bind="workflow.resourceClass"></excel>
        </template>
    </div>
    <loading-bar else></loading-bar>
</template>
