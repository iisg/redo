<template>
    <require from="./add/resource-form"></require>
    <require from="common/components/fab/fab-add"></require>
    <require from="common/components/pagination/pagination"></require>
    <require from="./resources-list-table"></require>
    <require from="./workflow/resource-place-display.html"></require>

    <pagination total-number-of-elements.bind="totalNumberOfResources"
        elements-per-page.bind="resultsPerPage"
        current-page-number.bind="currentPageNumber"
        hide-elements-per-page-dropdown="true"></pagination>

    <fab-add class="pull-right"
        opened.bind="addFormOpened"
        disabled.bind="parentResource.pendingRequest"></fab-add>

    <div if.bind="addFormOpened"
        class="fade-inup-outdown au-animate floating-form-full-width well">
        <h2>${'Add new resource' | resourceClassTranslation:resourceClass}</h2>
        <resource-form resource-class.bind="resourceClass"
            submit.call="addNewResource(savedResource)"
            parent.bind="parentResource"></resource-form>
    </div>

    <loading-bar if.bind="displayProgressBar"></loading-bar>

    <div class="row"
        show.bind="!resources || resources.length > 0">
        <resources-list-table resources.bind="resources"
            column-metadata.bind="briefMetadata"
            resource-class.bind="resourceClass"
            sort-by.bind="sortBy"></resources-list-table>
    </div>

    <div class="alert alert-info"
        if.bind="resources.length === 0 && !displayProgressBar">
        <icon name="information"></icon>
        ${'No resources.' | resourceClassTranslation:resourceClass}
    </div>

    <pagination total-number-of-elements.bind="totalNumberOfResources"
        elements-per-page.bind="resultsPerPage"
        current-page-number.bind="currentPageNumber"></pagination>
</template>
