<template>
    <button click.trigger="onButtonClicked()"
        class="${stateBasedCssClass}"
        disabled.bind="state == 'waiting'">
        <icon name.bind="stateBasedIcon"
            show.bind="stateBasedIcon"></icon>
        <span show.bind="!stateBasedCaption">
            <slot></slot>
        </span>
        <span if.bind="stateBasedCaption">${stateBasedCaption}</span>
    </button>
</template>
