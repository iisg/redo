@import "../../styles";

$clear-button-font-size: 21px;
$single-selection-arrow-container-width: 24px;
$multiple-selection-clear-button-line-height: 22px;

dropdown-select, entity-chooser, metadata-chooser, resource-kind-metadata-chooser,
audit-command-name-chooser, resource-kind-chooser, flags-select, workflow-chooser {
  display: flex;
  align-items: center;
  overflow: hidden;
  .select2-container {
    flex: 1;
    overflow: hidden;
    &.select2-container--focus {
      .select2-selection {
        border-color: $grey;
      }
    }
    &.select2-container--open {
      .select2-selection--single {
        .select2-selection__arrow {
          b {
            border-bottom-color: $grey;
          }
        }
      }
    }
    .select2-selection__clear {
      font-size: $clear-button-font-size;
    }
    .select2-selection--single {
      min-height: 28px;
      height: auto;
      .select2-selection__rendered {
        padding-right: $single-selection-arrow-container-width;
        &, .select2-selection__placeholder {
          color: $dark-grey;
        }
        .select2-selection__clear {
          margin-left: $default-gap-size / 2;
          margin-right: 0;
        }
      }
      .select2-selection__arrow {
        width: $single-selection-arrow-container-width;
        min-height: inherit;
        b {
          border-top-color: $grey;
        }
      }
    }
    .select2-selection--multiple {
      &, & > .select2-selection__rendered {
        display: flex;
      }
      & > .select2-selection__rendered {
        align-items: center;
        padding: $default-gap-size / 8;
        & > :not(.select2-selection__clear) {
          margin: $default-gap-size / 8;
        }
        .select2-selection__clear {
          order: 1;
          margin: $default-gap-size / 8 3 * $default-gap-size / 8;
          line-height: $multiple-selection-clear-button-line-height;
        }
        .select2-search {
          flex: 1;
          input {
            width: 100% !important;
            margin-top: 0;
          }
        }
      }
    }
    .select2-selection__clear, .select2-selection--multiple .select2-selection__choice__remove {
      color: $grey;
      @include transition(color .3s);
      &:hover {
        color: $dark-grey;
      }
    }
  }
  throbber {
    margin-left: $default-gap-size / 2;
    &.icon {
      display: inherit;
    }
  }
}
