<template class="nested-navigation-menu">
    <ul class="nav nav-stacked">
        <li repeat.for="item of items"
            class="navigation-menu-item ${item.active ? 'current' : ''} ${item.expanded ? 'expanded' : ''}"
            require-roles.bind="item.requiredRoles">
            <a if.bind="!item.items"
                route-href="route.bind: item.routeName; params.bind: item.params"
                class="btn btn-default">
                <icon name.bind="item.icon"></icon>
                <span>${item.labelKey | t}</span>
            </a>
            <template else>
                <a class="btn btn-default"
                    click.delegate="item.toggle()">
                    <icon name.bind="item.expanded ? 'down-2' : 'forward'"></icon>
                    <span>${item.labelKey | t}</span>
                </a>
                <ul if.bind="item.expanded"
                    class="navigation-menu-subitems anim-height-inout-150 au-animate">
                    <li repeat.for="child of item.items"
                        class="navigation-menu-item ${child.active ? 'current' : ''}"
                        require-roles.bind="item.requiredRoles">
                        <a route-href="route.bind: child.routeName; params.bind: child.params"
                            class="btn btn-default">
                            <icon name.bind="child.icon"></icon>
                            <span>${child.labelKey | t}</span>
                        </a>
                    </li>
                </ul>
            </template>
        </li>
    </ul>
</template>
