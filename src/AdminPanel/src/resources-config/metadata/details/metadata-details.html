<template>
    <require from="common/components/buttons/remove-button"></require>
    <require from="common/components/buttons/edit-button"></require>
    <require from="../metadata-list"></require>
    <require from="../metadata-form"></require>

    <div class="au-animate fade-inup-outup"
        if.bind="metadata">

        <div class="pull-right">
            <pending-throbber entity.bind="metadata"></pending-throbber>
            <remove-button if.bind="!editing && metadata.id > 0"
                disabled.bind="metadata.pendingRequest"
                on-click.call="deleteMetadata()"></remove-button>
            <edit-button toggled.bind="editing"
                disabled.bind="metadata.pendingRequest"
                on-click.call="toggleEditForm()"></edit-button>
        </div>

        <h1>${'Metadata' | t} #${ metadata.id }</h1>

        <div class="au-animate anim-height-inout-300"
            if.bind="!editing">
            <div>
                <dl class="dl-horizontal">
                    <dt>ID</dt>
                    <dd>${metadata.id}</dd>
                    <dt>${'Name' | t}</dt>
                    <dd>${metadata.name}</dd>

                    <dt>${'Label' | t}</dt>
                    <dd>
                        ${metadata.label | inCurrentLanguage}
                    </dd>
                    <dt>${'Control' | t}</dt>
                    <dd>${'controls::' + metadata.control | t}</dd>
                    <dt>${'Hint' | t}</dt>
                    <dd>
                        ${metadata.placeholder | inCurrentLanguage}
                    </dd>
                    <dt>${'Description' | t}</dt>
                    <dd>
                        ${metadata.description | inCurrentLanguage}
                    </dd>
                </dl>
            </div>

            <h3>${'Submetadata kinds' | t}</h3>
            <metadata-list parent-metadata.bind="metadata"
                resource-class.bind="metadata.resourceClass"></metadata-list>

        </div>

        <div class="au-animate anim-height-inout-900 well floating-form-full-width"
            if.bind="editing">
            <metadata-form submit.call="saveEditedMetadata(metadata, editedMetadata)"
                template.bind="metadata"
                edit="true"
                resource-class.bind="resourceClass"></metadata-form>
        </div>
    </div>
</template>
