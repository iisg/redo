<template>
    <require from="common/components/restore-from-original/restore-from-original.html"></require>
    <require from="resources-config/metadata/metadata-chooser"></require>
    <require from="resources/add/metadata-value-input"></require>

    <table if.bind="resourceClasses.length">
        <thead>
        <tr>
            <th>${'Metadata kind' | t}</th>
            <th>${'Filter' | t}</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>
                <metadata-chooser value.bind="filteredMetadata"
                    resource-class.bind="resourceClasses"
                    control.one-time="['text', 'textarea', 'relationship', 'integer']"></metadata-chooser>
            </td>
            <td>
                <input type="text"
                    class="form-control"
                    if.bind="filteredMetadata"
                    value.bind="filterValue.value">
            </td>
        </tr>
        </tbody>
    </table>
    <div else>${'Firstly, choose allowed resource kinds.' | t}</div>

    <restore-from-original if.bind="hasBase && wasModified"
        click.delegate="resetToOriginalValues()"></restore-from-original>
</template>
