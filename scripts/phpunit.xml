<?xml version="1.0" encoding="UTF-8"?>

<!-- https://phpunit.de/manual/current/en/appendixes.configuration.html -->
<phpunit xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="http://schema.phpunit.de/4.8/phpunit.xsd"
         backupGlobals="false"
         colors="true"
         convertErrorsToExceptions="true"
         convertNoticesToExceptions="true"
         convertWarningsToExceptions="true"
         strict="true"
         bootstrap="../app/autoload.php">
    <php>
        <ini name="error_reporting" value="-1"/>
        <server name="KERNEL_DIR" value="../app/"/>
    </php>

    <listeners>
        <!--
            Integration test listener is here because PHPStorm will use this
            file for selective test running (for example when you run single
            test case). For unit tests the listener doesn't do anything.
        -->
        <listener class="Repeka\Tests\IntegrationTestListener" file="../src/Repeka/Tests/IntegrationTestListener.php"/>
    </listeners>

    <testsuites>
        <testsuite name="repeka">
            <directory>../src/Repeka/Tests</directory>
            <exclude>../src/Repeka/Tests/Integration</exclude>
        </testsuite>
    </testsuites>

    <filter>
        <whitelist>
            <directory suffix=".php">../src/Repeka/Domain</directory>
        </whitelist>
    </filter>
</phpunit>
